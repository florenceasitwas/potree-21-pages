<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="description" content="">
		<meta name="author" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<title>San Lorenzo</title>
	
		<link rel="stylesheet" type="text/css" href="../../build/potree/potree.css">
		<link rel="stylesheet" type="text/css" href="../../libs/jquery-ui/jquery-ui.min.css">
		<link rel="stylesheet" type="text/css" href="../../libs/openlayers3/ol.css">
		<link rel="stylesheet" type="text/css" href="../../libs/spectrum/spectrum.css">
		<link rel="stylesheet" type="text/css" href="../../libs/jstree/themes/mixed/style.css">
	</head>
	
	<body>
		<script src="../../libs/jquery/jquery-3.1.1.min.js"></script>
		<script src="../../libs/spectrum/spectrum.js"></script>
		<script src="../../libs/jquery-ui/jquery-ui.min.js"></script>
		<script src="../../libs/other/BinaryHeap.js"></script>
		<script src="../../libs/tween/tween.min.js"></script>
		<script src="../../libs/d3/d3.js"></script>
		<script src="../../libs/proj4/proj4.js"></script>
		<script src="../../libs/openlayers3/ol.js"></script>
		<script src="../../libs/i18next/i18next.js"></script>
		<script src="../../libs/jstree/jstree.js"></script>
		<script src="../../build/potree/potree.js"></script>
		<script src="../../libs/plasio/js/laslaz.js"></script>
		
		<!-- INCLUDE ADDITIONAL DEPENDENCIES HERE -->
		<!-- INCLUDE SETTINGS HERE -->
		
		<div class="potree_container" style="position: absolute; width: 100%; height: 100%; left: 0px; top: 0px; ">
			<div id="potree_render_area" style="background-image: url('../../build/potree/resources/images/background.jpg');"></div>
			<div id="potree_sidebar_container"> </div>
		</div>
		
		<script>
		
			window.viewer = new Potree.Viewer(document.getElementById("potree_render_area"));
	
			viewer.useHQ = true; 
			viewer.setEDLEnabled(false);
			viewer.setFOV(60);
			viewer.setPointBudget(6 * 1000 * 1000);
			viewer.loadSettingsFromURL();
			viewer.scene.view.position.set(27.011, 35.305, 23.215);
			viewer.scene.view.lookAt(-16.521, 5.101, 9.046);
	
			<!-- INCLUDE SETTINGS HERE -->
			viewer.loadSettingsFromURL();
			
			viewer.setDescription("");
			viewer.scene.camera;
			viewer.setDescription("Point cloud by <a target='_blank' href='https://florenceasitwas.wlu.edu/'>Florence As It Was</a>");
			viewer.loadGUI(() => {
				viewer.setLanguage('en');
				$("#menu_appearance").next().show();
				$("#menu_tools").next().show();
				$("#menu_clipping").next().show();
				viewer.toggleSidebar();
			});
			
			
	
			Potree.loadPointCloud("../../pointclouds/Lorenzo/SanLorenzo_20240111/metadata.json", "lorenzo", e => {7
				let scene = viewer.scene;
				let pointcloud = e.pointcloud;
	
				scene.addPointCloud(pointcloud);
				let material = pointcloud.material;
				material.size = 1;
				material.pointSizeType = Potree.PointSizeType.ADAPTIVE;
				material.shape = Potree.PointShape.SQUARE;
				material.activeAttributeName = "rgba";
			   
				
	
				//viewer.fitToScreen();
			});
			

		const animation = new Potree.CameraAnimation(viewer);


		const positions = [
			[-54.932, -26.930, 3.623],
			[-69.162, -21.979, 2.889],
			[-80.722, -23.305, 0.921],
			[-85.163, -24.476, 0.289],
			[-91.745, -23.387, 2.386],
		];

		const targets = [
			[-94.895, -23.410, 3.722],
			[-95.040, -23.493, 2.422],
			[-91.728, -20.857, 0.420],
			[-76.744, -27.216, 1.344],
			[-72.092, -25.012, 3.845],
		];

		for(let i = 0; i < positions.length; i++){
			const cp = animation.createControlPoint();

			cp.position.set(...positions[i]);
			cp.target.set(...targets[i]);
		}

		viewer.scene.addCameraAnimation(animation);

		
	</script>
	
	
  </body>
</html>
